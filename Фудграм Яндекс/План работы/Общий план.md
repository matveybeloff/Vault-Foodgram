
***
*Код — это воплощение идеи. Спланируйте работу и лишь после этого начинайте писать код. Голова, бумага и карандаш вам в помощь — редактор кода понадобится гораздо позже.*

*Как бы ни был прекрасен план, реальность всё равно не будет соответствовать иллюстрации.*

*Но без планирования будет ещё хуже. А чтобы начать планировать, нужно запустить проект и посмотреть, что у вас есть на старте.*
***

## Запустите заготовку проекта

Когда вам станет доступен репозиторий _foodgram_, склонируйте его к себе на компьютер.

Затем, находясь в папке _infra_, выполните в терминале команду  
`docker compose up`.

При выполнении этой команды контейнер _frontend_, описанный в _docker-compose.yml_, подготовит файлы, необходимые для фронтенд-приложения, а затем прекратит свою работу.

По адресу [http://localhost](http://localhost/) изучите фронтенд веб-приложения, а по адресу [http://localhost/api/docs/](http://localhost/api/docs/) — спецификацию API.

## Спроектируйте модели и связи между ними

Из прошлого урока вам точно известно, что в проекте должно быть минимум три модели: «Рецепт», «Тег» и «Ингредиент». Но какие ещё модели нужно создать, чтобы проект полноценно работал? Где будут нужны множественные связи, а где может потребоваться каскадное удаление?

На этапе проектирования вы должны дать ответы на эти вопросы, решить, где понадобится индексирование, и разобраться с другими задачами, которые касаются архитектуры.

Набросайте схемы моделей и связей. Скомкайте, сожгите и набросайте снова.

## Спроектируйте Django-приложения в составе проекта

Прочитайте задание, выделите сходные задачи, объедините их в Django-приложения (для начала в голове или на листе бумаги).

Поразмышляйте: можно ли приложение скопировать в другой проект, заработает ли оно там в том виде, в котором вы его запланировали. Получилось? Значит, идея верна.

## Создайте основу проекта

1. В склонированном репозитории _foodgram_ разверните виртуальное окружение, создайте новый Django-проект.
2. Разверните и подключите базу данных — на этапе разработки подойдёт SQLite.
3. Создайте суперпользователя и нескольких обычных пользователей, они пригодятся для проверки работы проекта.
4. Создайте файл зависимостей _requirements.txt_, актуализируйте его каждый раз, когда устанавливаете новые пакеты.

## Создайте Django-приложения и модели

Слона нужно есть по частям, поэтому не хватайтесь за всё подряд, а действуйте последовательно: создайте первое Django-приложение, его модели и связи. После этого займитесь следующим Django-приложением. Чёткая очерёдность позволит вам своевременно скорректировать план, если в нём что-то пойдёт не так, ведь важно не только создать Django-приложения, но и понимать, в какой последовательности их стоит реализовывать.

После описания моделей загрузите данные из списка ингредиентов.

## Реализуйте логику работы веб-приложения

Именно в этот момент всё пойдёт не по плану. Это нормально. Но если все предыдущие этапы выполнены, работать будет несколько легче, чем если бы этой подготовки не было.

Самое время запустить в консоли интерактивный режим Python, выполнить `import this` и немного помедитировать: круг замкнулся.

И после этого — продолжать писать код.

## Выпустите проект в продакшен

Когда ваше веб-приложение будет корректно работать локально, выпускайте его в продакшен.

Этот пункт плана можно разделить на следующие этапы:

1. Проверьте актуальность файла _requirements.txt_.
2. Если вы разрабатывали проект на SQLite — замените базу на PostgreSQL.
3. Напишите докерфайл для образа с Django-проектом и Gunicorn. В конце сборки контейнера должны быть команды для выполнения миграций и сборки статики.
4. Напишите _docker-compose.yml_, в нём опишите запуск контейнеров из официальных образов PostgreSQL и nginx и своего контейнера с проектом. Опишите конфигурацию контейнеров.
5. Запушьте контейнер с проектом в облачное хранилище.
6. Настройте автоматический деплой при помощи GitHub Actions.
7. Разверните контейнеры на своём удалённом виртуальном сервере.
8. Добавьте в файл _README.md_ адрес сервера, на котором запущен ваш проект (укажите IP или доменное имя).

План есть, а чтобы вам было немного проще реализовывать его пункты, загляните в следующий урок — там вас ждёт несколько лайфхаков и подсказок, которые помогут вам при выполнении большого задания.